(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{146:function(t,e){},567:function(t,e,s){"use strict";var a=s(146);s.n(a).a},881:function(t,e,s){"use strict";s.r(e);var a=s(5),c=s.n(a),n=s(9),o=s.n(n),r=s(13),l=s.n(r),i={components:{"c-layout":function(t){return Promise.resolve().then(function(){var e=[s(930)];t.apply(null,e)}.bind(this)).catch(s.oe)},"c-switch":function(t){return Promise.resolve().then(function(){var e=[s(37)];t.apply(null,e)}.bind(this)).catch(s.oe)}},data:function(){return{selected:[]}},computed:{selectAll:{get:function(){return this.selected.length==this.protocols.map(function(t){return t.contracts.length}).reduce(function(t,e){return t+e})},set:function(t){this.selected=t?this.protocols.map(function(t){return t.contracts.map(function(e){return t.id+"."+e.name})}).reduce(function(t,e){return t.concat(e)}):[]}},protocols:function(){return[{id:"application",name:"Token",link:"https://github.com/hyperbridge/protocol/tree/master/packages/token",contracts:l()(this.$store.state.application.ethereum[this.$store.state.application.current_ethereum_network].contracts)},{id:"marketplace",name:"Marketplace Protocol",link:"https://github.com/hyperbridge/protocol/tree/master/packages/marketplace",contracts:l()(this.$store.state.marketplace.ethereum[this.$store.state.marketplace.current_ethereum_network].contracts)},{id:"funding",name:"Funding Protocol",link:"https://github.com/hyperbridge/protocol/tree/master/packages/funding",contracts:l()(this.$store.state.funding.ethereum[this.$store.state.funding.current_ethereum_network].contracts)}]}},methods:{deployContract:function(t,e){this.$store.dispatch(t+"/deployContract",{contractName:e})},deploySelected:function(){var t=this;return o()(c.a.mark(function e(){var s,a,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=c.a.keys(t.selected);case 1:if((e.t1=e.t0()).done){e.next=9;break}return s=e.t1.value,a=t.selected[s].split(".")[0],n=t.selected[s].split(".")[1],e.next=7,t.$store.dispatch(a+"/deployContract",{contractName:n});case 7:e.next=1;break;case 9:case"end":return e.stop()}},e,t)}))()}}},d=(s(567),s(0)),u=Object(d.a)(i,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("c-layout",{attrs:{navigationKey:"settings"}},[s("div",{staticClass:"content",attrs:{id:"content"}},[s("c-block",{staticClass:"margin-bottom-30",attrs:{title:"Protocol Settings",noGutter:!0,onlyContentBg:!0,bgGradient:!0}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12",staticStyle:{padding:"0"}},[s("div",{},[s("div",{staticClass:"page-heading"},[s("div",{staticClass:"page-heading__container"},[s("p",{staticClass:"caption"},[t._v("Select protocol contracts to deploy")])]),t._v(" "),s("div",{staticClass:"page-heading__container float-right d-none d-md-block"},[t.selected.length?s("button",{staticClass:"btn btn-outline-secondary",on:{click:t.deploySelected}},[t._v("Deploy selected")]):t._e()])]),t._v(" "),s("div",{},[s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-dark margin-bottom-0"},[s("thead",[s("tr",[s("th",{attrs:{scope:"col",width:"40"}},[s("label",{staticClass:"custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{change:function(e){var s=t.selectAll,a=e.target,c=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&(t.selectAll=s.concat([null])):n>-1&&(t.selectAll=s.slice(0,n).concat(s.slice(n+1)))}else t.selectAll=c}}}),t._v(" "),s("span",{staticClass:"custom-control-label"})])]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Name")]),t._v(" "),s("th",{attrs:{scope:"col",width:"160"}},[t._v("Status")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Address")]),t._v(" "),s("th",{attrs:{scope:"col"}})])]),t._v(" "),s("tbody",[t._l(t.protocols,function(e){return[s("tr",{key:e.id},[s("td",{staticClass:"margin-top-0 margin-bottom-0",staticStyle:{background:"rgba(255, 255, 255, 0.01)"},attrs:{colspan:"5"}},[s("a",{attrs:{href:e.link}},[s("strong",[t._v(t._s(e.name))])])])]),t._v(" "),t._l(e.contracts,function(a){return s("tr",{key:a.name},[s("td",[s("label",{staticClass:"custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{type:"checkbox",number:""},domProps:{value:e.id+"."+a.name,checked:Array.isArray(t.selected)?t._i(t.selected,e.id+"."+a.name)>-1:t.selected},on:{change:function(s){var c=t.selected,n=s.target,o=!!n.checked;if(Array.isArray(c)){var r=e.id+"."+a.name,l=t._i(c,r);n.checked?l<0&&(t.selected=c.concat([r])):l>-1&&(t.selected=c.slice(0,l).concat(c.slice(l+1)))}else t.selected=o}}}),t._v(" "),s("span",{staticClass:"custom-control-label"})])]),t._v(" "),s("td",[s("a",{attrs:{href:a.link}},[t._v(t._s(a.name))]),t._v(" "),s("br"),t._v(" "),a.links&&a.links.length?s("p",[s("strong",[t._v("Dependencies:")]),t._v(" "),t._l(a.links,function(e){return s("em",{key:e.name},[t._v(t._s(e.name)+" ")])})],2):t._e()]),t._v(" "),s("td",[a.created_at?s("span",{staticClass:"badge badge-success"},[t._v("Deployed")]):t._e(),t._v(" "),a.created_at?t._e():s("span",{staticClass:"badge badge-warning"},[t._v("Undeployed")]),t._v(" "),a.created_at?s("div",[s("strong",[t._v(t._s(t._f("formatDate")(a.created_at)))]),s("br"),t._v(" "),s("span",{staticClass:"text-muted"},[t._v(t._s(t._f("formatTime")(a.created_at)))])]):t._e()]),t._v(" "),s("td",[s("div",{staticClass:"input-group"},[s("input",{staticClass:"form-control",attrs:{type:"text"},domProps:{value:a.address}}),t._v(" "),s("span",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-light",attrs:{type:"button"}},[t._v("Copy")])])])]),t._v(" "),s("td",[s("button",{staticClass:"btn btn-light btn-sm",on:{click:function(s){s.preventDefault(),t.deployContract(e.id,a.name)}}},[t._v("Deploy")])])])})]})],2)])])])])])])])],1)])},[],!1,null,"7e733e9b",null);e.default=u.exports}}]);
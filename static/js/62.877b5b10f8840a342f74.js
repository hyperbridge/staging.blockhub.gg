(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{122:function(t,e){},1585:function(t,e,s){"use strict";s.r(e);var a=s(6),i=s.n(a),o=s(9),c=s.n(o),r=s(20),n=s.n(r),l=s(2),u=s.n(l),d=(s(122),{props:{id:[String,Number]},components:{"c-html-editor":function(t){return s.e(292).then(function(){var e=[s(1557)];t.apply(null,e)}.bind(this)).catch(s.oe)},"c-json-editor":function(t){return s.e(291).then(function(){var e=[s(1556)];t.apply(null,e)}.bind(this)).catch(s.oe)},multiselect:function(t){return s.e(209).then(function(){var e=[s(1709)];t.apply(null,e)}.bind(this)).catch(s.oe)}},data:function(){return{loadingState:!0,notice:"",advanced:!1,project:"new"===this.id?this.$store.state.funding.defaultProject:this.$store.getters["projects/get"](this.id),blockchain:!1,tagOptions:[]}},computed:{originalProject:function(){return"new"===this.id?this.$store.state.funding.defaultProject:this.$store.getters["projects/get"](this.id)}},watch:{originalProject:function(){this.project=u()({},this.project,this.originalProject)}},created:function(){"new"!==this.id&&this.$store.dispatch("projects/find",{query:{id:Number(this.id),$eager:"tags"}})},methods:{syncBlockchain:function(){},createBlockchain:function(){var t=this,e={key:function(t,e,s,a,o,r,l,u,d,p,m){var v,h=this,f=m.project,_=m.profile;return new n.a((v=c()(i.a.mark(function t(o,c){var r,n,l;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.api.ethereum.state.contracts.ProjectRegistration.deployed,n=!1,l=r.ProjectCreated().watch(function(t,a){if(!n){if(n=!0,t)return console.warn("[BlockHub][Marketplace] Error",t),c(t);f.$loki=void 0,f.id=a.args.projectId.toNumber();try{e.funding.projects.insert(f),console.log("after",f.id)}catch(t){try{e.funding.projects.update(f)}catch(t){c(t)}}e.save(),s.sendCommand("updateState",{module:"funding",state:{projects:e.funding.projects.data}}),console.log("Project created"),o(f)}}),t.next=5,r.createProject(f.name,f.description,f.content,{from:_.address});case 5:l.stopWatching(function(){});case 6:case"end":return t.stop()}},t,h)})),function(t,e){return v.apply(this,arguments)}))}.toString(),params:{profile:this.$store.state.application.activeProfile,project:this.project}};BlockHub.Bridge.sendCommand("eval",e).then(function(e){e.id&&(t.project.id=e.id,t.successfulCreationMessage="Congratulations, your project has been created!",t.funding.projects[t.project.id]=t.project,t.$router.push("/business/project/"+t.project.id))})},updateBlockchain:function(){BlockHub.Bridge.sendCommand("eval",function(t,e,s,a,o,r,l,u,d,p,m){var v=this;return new n.a(c()(i.a.mark(function t(){var s,o,c,r,l,u,d;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s={title:"test",description:"test",about:"test",minContributionGoal:1e3,maxContributionGoal:1e4,contributionPeriod:4,noRefunds:!1,noTimeline:!0},o=a.api.ethereum.state.contracts.ProjectRegistration.deployed,c=null,r=new n.a(function(t){c=t}),l=o.ProjectCreated().watch(function(t,a){if(t)return console.warn("[BlockHub][Funding] Error",t),reject(t);s.$loki=void 0,s.id=a.args.projectId.toNumber();try{e.funding.projects.insert(s)}catch(t){try{e.funding.projects.update(s)}catch(t){reject(t)}}c(s.id)}),t.next=7,o.createProject(s.title,s.description,s.about);case 7:return l.stopWatching(),t.next=10,r;case 10:return u=t.sent,t.next=13,o.setProjectContributionGoals(u,s.minContributionGoal,s.maxContributionGoal,s.contributionPeriod,{from:developerAccount});case 13:return t.next=15,o.setProjectTerms(u,s.noRefunds,s.noTimeline,{from:developerAccount});case 15:return t.next=17,o.getProject(u);case 17:d=t.sent,console.log(d);case 19:case"end":return t.stop()}},t,v)})))}.toString())},addTag:function(t){var e={key:t.substring(0,2)+Math.floor(1e7*Math.random()),value:t};this.tagOptions.push(e),this.project.tags.push(e)},viewPage:function(){},toggleAdvanced:function(){this.advanced=!this.advanced},create:function(){var t=this;this.project.ownerId=this.$store.state.application.activeProfile.id,this.$store.dispatch("projects/create",this.project).then(function(e){t.project.id=e.id,t.notice="Congratulations, your project has been created!",t.$router.push("/business/project/"+t.project.id)})},save:function(){var t=this;this.$store.dispatch("projects/update",[this.project.id,this.project,{query:{$eager:"tags"}}]).then(function(){t.notice="Project has been saved."})}}}),p=(s(915),s(0)),m=Object(p.a)(d,function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.project?s("div",{staticClass:"row"},[t.project.id?s("div",{staticClass:"col-12 mb-4"},[s("c-button",{attrs:{href:"#/project/"+t.project.id,target:"_blank",status:"info",icon:"open"}},[t._v("\n            View Page\n        ")])],1):t._e(),t._v(" "),t.notice?s("div",{staticClass:"col-md-12"},[s("p",{staticClass:"alert alert-info"},[t._v(t._s(t.notice))]),t._v(" "),s("br"),s("br")]):t._e(),t._v(" "),s("div",{staticClass:"col-md-7"},[s("div",{staticClass:"form-group row"},[t._m(0),t._v(" "),s("div",{staticClass:"col-sm-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.project.name,expression:"project.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:""},domProps:{value:t.project.name},on:{input:function(e){e.target.composing||t.$set(t.project,"name",e.target.value)}}}),t._v(" "),s("span",{staticClass:"form-text"})])]),t._v(" "),s("div",{staticClass:"form-group row"},[t._m(1),t._v(" "),s("div",{staticClass:"col-sm-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.project.description,expression:"project.description"}],staticClass:"form-control",attrs:{type:"text",placeholder:""},domProps:{value:t.project.description},on:{input:function(e){e.target.composing||t.$set(t.project,"description",e.target.value)}}}),t._v(" "),s("span",{staticClass:"form-text"})])])]),t._v(" "),s("div",{staticClass:"col-md-5"},[s("div",{staticClass:"form-group row"},[t._m(2),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("multiselect",{attrs:{"tag-placeholder":"Add this as new tag",placeholder:"Search or add a tag",label:"value","track-by":"key",options:t.tagOptions,multiple:!0,taggable:!0},on:{tag:t.addTag},model:{value:t.project.tags,callback:function(e){t.$set(t.project,"tags",e)},expression:"project.tags"}}),t._v(" "),s("span",{staticClass:"form-text"})],1)]),t._v(" "),s("div",{staticClass:"form-group row"},[t._m(3),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.project.meta.funds.goal,expression:"project.meta.funds.goal"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Example: 0"},domProps:{value:t.project.meta.funds.goal},on:{input:function(e){e.target.composing||t.$set(t.project.meta.funds,"goal",e.target.value)}}}),t._v(" "),s("span",{staticClass:"form-text"})])]),t._v(" "),s("div",{staticClass:"form-group row"},[t._m(4),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.project.meta.funds.cap,expression:"project.meta.funds.cap"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Example: 1000"},domProps:{value:t.project.meta.funds.cap},on:{input:function(e){e.target.composing||t.$set(t.project.meta.funds,"cap",e.target.value)}}}),t._v(" "),s("span",{staticClass:"form-text"})])])]),t._v(" "),s("div",{staticClass:"col-12"},[s("c-html-editor",{attrs:{height:"200",model:t.project.value},on:{"update:model":function(e){t.$set(t.project,"value",e)}}}),t._v(" "),s("span",{staticClass:"form-text"})],1),t._v(" "),s("div",{staticClass:"col-12"},[s("c-heading-bar-color",{staticClass:"mt-4 mb-4",attrs:{colorCode:"#444",textAlign:"center",hidden:""}},[t._v("Advanced Options")]),t._v(" "),s("div",{on:{click:t.toggleAdvanced}},[s("i",{staticClass:"mr-2 fas",class:t.advanced?"fa-angle-up":"fa-angle-down"}),t._v("\n            "+t._s(t.advanced?"Hide":"Show")+" Advanced\n        ")])],1),t._v(" "),t.advanced?s("div",{staticClass:"col-12"},[s("hr")]):t._e(),t._v(" "),t.advanced?s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-group row"},[t._m(5),t._v(" "),s("div",{staticClass:"col-sm-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.project.meta.supportEmail,expression:"project.meta.supportEmail"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Example: example@domain.com"},domProps:{value:t.project.meta.supportEmail},on:{input:function(e){e.target.composing||t.$set(t.project.meta,"supportEmail",e.target.value)}}}),t._v(" "),s("span",{staticClass:"form-text"})])]),t._v(" "),s("div",{staticClass:"form-group row"},[t._m(6),t._v(" "),s("div",{staticClass:"col-sm-9"},[s("div",{staticClass:"input-group mb-2 mr-sm-2 mb-sm-0"},[t._m(7),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.project.meta.twitterUsername,expression:"project.meta.twitterUsername"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Example: @example"},domProps:{value:t.project.meta.twitterUsername},on:{input:function(e){e.target.composing||t.$set(t.project.meta,"twitterUsername",e.target.value)}}})])])]),t._v(" "),s("div",{staticClass:"form-group row"},[t._m(8),t._v(" "),s("div",{staticClass:"col-sm-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.project.meta.shareText,expression:"project.meta.shareText"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Example: Join our crowdfund on BlockHub today!"},domProps:{value:t.project.meta.shareText},on:{input:function(e){e.target.composing||t.$set(t.project.meta,"shareText",e.target.value)}}}),t._v(" "),s("span",{staticClass:"form-text"})])])]):t._e(),t._v(" "),t.advanced?s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-sm-1"},[s("c-switch",{staticClass:"switch-sm",attrs:{checked:t.project.meta.overflowEnabled},on:{change:function(e){return t.project.meta.overflowEnabled=e}}})],1),t._v(" "),t._m(9)]),t._v(" "),s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-sm-1"},[s("c-switch",{staticClass:"switch-sm",attrs:{checked:t.project.meta.timelineEnabled},on:{change:function(e){return t.project.meta.timelineEnabled=e}}})],1),t._v(" "),t._m(10)]),t._v(" "),s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-sm-1"},[s("c-switch",{staticClass:"switch-sm",attrs:{checked:t.project.meta.refundsEnabled},on:{change:function(e){return t.project.meta.refundsEnabled=e}}})],1),t._v(" "),t._m(11)]),t._v(" "),s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-sm-1"},[s("c-switch",{staticClass:"switch-sm",attrs:{checked:t.project.meta.curationEnabled},on:{change:function(e){return t.project.meta.curationEnabled=e}}})],1),t._v(" "),t._m(12)]),t._v(" "),t._m(13),t._v(" "),s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-sm-1"},[s("c-switch",{staticClass:"switch-sm",attrs:{checked:t.project.meta.contributionPeriodEnabled},on:{change:function(e){return t.project.meta.contributionPeriodEnabled=e}}})],1),t._v(" "),t._m(14)])]):t._e(),t._v(" "),t.advanced?s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"form-group row",staticStyle:{"text-align":"center"}},[s("br"),t._v(" "),s("h3",{staticStyle:{width:"100%"}},[t._v("Raw Data Editor")]),t._v(" "),s("br"),s("br"),t._v(" "),s("span",{staticClass:"form-text"}),t._v(" "),s("c-json-editor",{staticStyle:{margin:"0 auto"},attrs:{objData:t.project},model:{value:t.project,callback:function(e){t.project=e},expression:"project"}})],1)]):t._e(),t._v(" "),s("div",{staticClass:"col-12",attrs:{hidden:""}},[s("div",{directives:[{name:"darklaunch",rawName:"v-darklaunch",value:"GOVERNANCE",expression:"'GOVERNANCE'"}],staticClass:"row"},[s("div",{staticClass:"col-12"},[t._v("\n                Choose your governance system\n            ")]),t._v(" "),t._m(15)])]),t._v(" "),s("div",{staticClass:"col-12"},[s("c-heading-bar-color",{staticClass:"mt-4 mb-4",attrs:{colorCode:"#444",textAlign:"center"}},[t._v("Blockchain Options")]),t._v(" "),t.blockchain?s("div",[s("p",[t._v("Project found. ID: "+t._s(t.blockchain.id))]),t._v(" "),s("c-button",{attrs:{status:"outline-info"},on:{click:t.updateBlockchain}},[t._v("\n                Update\n            ")])],1):t._e(),t._v(" "),t.blockchain?t._e():s("div",[s("strong",[t._v("Project not found within Funding Protocol.")]),t._v(" "),s("c-button",{attrs:{status:"outline-info",size:"sm"},on:{click:t.syncBlockchain}},[t._v("\n                Sync\n            ")]),t._v(" "),s("c-button",{attrs:{status:"outline-info",size:"sm"},on:{click:t.createBlockchain}},[t._v("\n                Deploy\n            ")])],1)],1),t._v(" "),s("div",{staticClass:"col-12"},[s("hr"),t._v(" "),s("div",{staticClass:"row"},[t.project.id?s("div",{staticClass:"col-12 text-right"},[s("c-button",{attrs:{status:"success",icon:"save"},on:{click:t.save}},[t._v("\n                    Save\n                ")])],1):t._e(),t._v(" "),t.project.id?t._e():s("div",{staticClass:"col-12 text-right"},[s("c-button",{attrs:{status:"success",icon:"plus"},on:{click:t.create}},[t._v("\n                    Create\n                ")])],1)])])]):t._e()},[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"switch switch-sm col-sm-3"},[e("label",[this._v("Title")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"switch switch-sm col-sm-3"},[e("label",[this._v("Description")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"switch switch-sm col-sm-4"},[e("label",[this._v("Tags")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"switch switch-sm col-sm-4"},[e("label",[this._v("Minimum Contribution Goal")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"switch switch-sm col-sm-4"},[e("label",[this._v("Maximum Contribution Goal")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-3"},[e("label",[this._v("Support Email")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-3"},[e("label",[this._v("Twitter Username")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("@")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-3"},[e("label",[this._v("Share Text")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-11"},[e("label",[this._v("Overflow")]),this._v(" "),e("span",{staticClass:"form-text"},[this._v("Projects with Overflow enabled will accept more than the funding goal (over-contribution)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-11"},[e("label",[this._v("Timeline")]),this._v(" "),e("span",{staticClass:"form-text"},[this._v("Projects with Timeline enabled will have a current timeline with associated milestones.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-11"},[e("label",[this._v("Refunds")]),this._v(" "),e("span",{staticClass:"form-text"},[this._v("Projects with Refunds enabled will allow contributors to get partial or full refund if the project is deemed not successful (by community vote).")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-11"},[e("label",[this._v("Curation")]),this._v(" "),e("span",{staticClass:"form-text"},[this._v("Projects with Curation enabled will allow the community to curate the project and earn reputation for their actions.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group row"},[e("label",{staticClass:"switch switch-sm col-sm-1"}),this._v(" "),e("div",{staticClass:"col-sm-11"},[e("input",{attrs:{type:"text",id:"ise_default",name:"ise_default",value:""}}),this._v(" "),e("label",[this._v("Contribution Period")]),this._v(" "),e("span",{staticClass:"form-text"},[this._v("Projects with Curation Enabled will allow the community to curate the project and earn reputation for their actions.")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-11"},[e("label",[this._v("No Contribution Period")]),this._v(" "),e("span",{staticClass:"form-text"},[this._v("Projects with No Contribution Period will be open for contribution until the project is completed, allowing for contributions during the project.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-4"},[e("i",{staticClass:"fas first-order"})])}],!1,null,null,null);e.default=m.exports},216:function(t,e){},915:function(t,e,s){"use strict";var a=s(216);s.n(a).a}}]);
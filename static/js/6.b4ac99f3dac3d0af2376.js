(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{120:function(t,e){},1520:function(t,e,i){"use strict";i.r(e);var a=i(5),n=(i(120),{props:{id:[String,Number],section:{type:String,default:"overview"}},components:{"c-tags":function(t){return i.e(10).then(function(){var e=[i(1416)];t.apply(null,e)}.bind(this)).catch(i.oe)},"c-badges":function(t){return i.e(212).then(function(){var e=[i(1440)];t.apply(null,e)}.bind(this)).catch(i.oe)},"c-rating-block":function(t){return i.e(196).then(function(){var e=[i(1444)];t.apply(null,e)}.bind(this)).catch(i.oe)},"c-idea-overview":function(t){return i.e(269).then(function(){var e=[i(1441)];t.apply(null,e)}.bind(this)).catch(i.oe)},"c-idea-community":function(t){return i.e(268).then(function(){var e=[i(1442)];t.apply(null,e)}.bind(this)).catch(i.oe)},"c-updates-count":function(t){return i.e(237).then(function(){var e=[i(1443)];t.apply(null,e)}.bind(this)).catch(i.oe)},multiselect:function(t){return i.e(207).then(function(){var e=[i(1708)];t.apply(null,e)}.bind(this)).catch(i.oe)}},data:function(){return{errors:[],notice:"",activeElement:{name:!1,backgroundImage:!1,storeImage:!1,tags:!1,description:!1,content:!1},tagOptions:[{key:"game",value:"Game"},{key:"mod",value:"Mod"},{key:"item",value:"Item"},{key:"other",value:"Other"}]}},methods:{showTab:function(t){$('.nav-tabs a[href="#'+t+'"]').tab("show")},deactivateElement:function(t){this.activeElement[t]=!1},activateElement:function(t){var e=this;for(var i in this.activeElement)this.activeElement[i]=!1;this.activeElement[t]=!0,setTimeout(function(){e.$refs[t]&&e.$refs[t].focus()},10)},remove:function(){var t=this;this.$store.dispatch("ideas/remove",this.idea.id).then(function(e){t.notice="Idea has been removed.",t.$store.dispatch("application/setEditorMode","viewing"),t.$router.push("/ideas")})},save:function(){var t=this;this.checkForm()?"new"===this.id?(this.$store.dispatch("application/setEditorMode","publishing"),this.idea.ownerId=this.$store.state.application.activeProfile.id,this.$store.dispatch("ideas/create",this.idea).then(function(e){t.idea.id=e.id,t.notice="Congratulations, your idea has been created!",t.$store.dispatch("application/setEditorMode","viewing"),t.$router.push("/idea/"+t.idea.id)})):(this.$store.dispatch("application/setEditorMode","publishing"),this.idea.ownerId=this.$store.state.application.activeProfile.id,this.$store.dispatch("ideas/update",[this.idea.id,this.idea,{query:{$eager:"[tags, community]"}}]).then(function(){t.notice="Idea has been saved.",t.$store.dispatch("application/setEditorMode","viewing")})):this.$store.dispatch("application/setEditorMode","editing")},checkForm:function(){if(this.errors=[],this.idea.name&&this.idea.meta.description)return!0;this.idea.name||this.errors.push("Idea name required."),this.idea.meta.description||this.errors.push("Idea description required.")},updateSection:function(){this.section||(this.section=this.$route.meta.section)}},computed:{idea:function(){var t=null;if("new"===this.id&&(t=this.$store.state.marketplace.defaultIdea,this.$store.state.application.developerMode=!0,this.$store.dispatch("application/setEditorMode","editing")),t||(t=this.$store.getters["ideas/get"](this.id)),t)return t.meta||(t.meta={}),t.meta.images&&t.meta.images.header&&(window.document.getElementById("header-bg").style["background-image"]="url("+t.meta.images.header+")"),t},editing:function(){if(!this.$store.state.application.editorMode)for(var t in this.activeElement)this.activeElement[t]=!1;return"editing"===this.$store.state.application.editorMode},breadcrumbLinks:function(){if(!this.idea)return[];var t=[{to:{path:"/"},title:"Store"},{to:{path:"/idea/"+(this.idea?this.idea.id:0)},title:this.idea?this.idea.name:"Loading"}];return"community"===this.section?t.push({to:{path:""},title:"Community"}):"updates"===this.section&&t.push({to:{path:""},title:"Updates"}),t}},watch:{$route:function(){this.updateSection()},editing:function(){"publishing"===this.$store.state.application.editorMode?this.save():"removing"===this.$store.state.application.editorMode&&this.remove()}},created:function(){"new"!==this.id&&this.$store.dispatch("ideas/find",{query:{id:Number(this.id),$eager:"[tags, community]"}}),this.updateSection()},beforeDestroy:function(){window.document.getElementById("header-bg").style["background-image"]="url(/static/img/backgrounds/1.jpg)"},updated:function(){var t=this;$("#summernote").summernote({placeholder:"Type in your text",tabsize:2,height:300,callbacks:{onBlur:function(){a.default.set(t.idea,"value",$("#summernote").summernote("code"))}}})}}),s=(i(959),i(958),i(0)),o=Object(s.a)(n,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("c-layout",{staticClass:"idea-single-page",attrs:{navigationKey:"idea",showRightPanel:!1,breadcrumbLinks:t.breadcrumbLinks}},[t.idea||"new"===t.id?t._e():i("div",{staticClass:"row"},[i("c-loading",{attrs:{enabled:!0}})],1),t._v(" "),t.idea||"new"===t.id?i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[t.errors.length?i("div",{staticClass:"errors"},[i("strong",[t._v("Please correct the following error(s):")]),t._v(" "),i("ul",t._l(t.errors,function(e){return i("li",{key:e},[t._v(t._s(e))])}))]):t._e(),t._v(" "),i("div",{staticClass:"row justify-content-between"},[i("div",{staticClass:"col-12 col-md-4 text-center text-md-left"},[i("div",{staticClass:"editor-container"},[t.editing?i("div",{staticClass:"editor"},[t.activeElement.name?t._e():i("button",{staticClass:"btn btn-secondary btn--icon btn--icon-stacked btn--icon-right",on:{click:function(e){t.activateElement("name")}}},[t._v("Change\n                                Idea Name "),i("span",{staticClass:"fa fa-edit"})]),t._v(" "),t.activeElement.name?i("div",{staticClass:"form-control-element form-control-element--right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.idea.name,expression:"idea.name"}],ref:"name",staticClass:"form-control",attrs:{name:"name",type:"text",placeholder:"Idea name..."},domProps:{value:t.idea.name},on:{input:function(e){e.target.composing||t.$set(t.idea,"name",e.target.value)}}}),t._v(" "),i("div",{staticClass:"form-control-element__box form-control-element__box--pretify bg-secondary"},[i("span",{staticClass:"fa fa-check",on:{click:function(e){t.deactivateElement("name")}}})])]):t._e()]):t._e(),t._v(" "),i("h1",{staticClass:"title margin-top-10 margin-bottom-15"},[t._v(t._s(t.idea.name))])]),t._v(" "),i("div",{staticClass:"editor-container"},[t.editing?i("div",{staticClass:"editor"},[t.activeElement.tags?t._e():i("button",{staticClass:"btn btn-secondary btn--icon btn--icon-stacked btn--icon-right",staticStyle:{"margin-bottom":"20px"},on:{click:function(e){t.activateElement("tags")}}},[t._v("Change\n                                Tags "),i("span",{staticClass:"fa fa-edit"})]),t._v(" "),t.activeElement.tags?i("div",{staticClass:"form-control-element tag-editor form-control-element--right"},[i("multiselect",{staticClass:"dark-mode",attrs:{label:"value","track-by":"key",multiple:!0,taggable:!1,options:t.tagOptions},model:{value:t.idea.tags,callback:function(e){t.$set(t.idea,"tags",e)},expression:"idea.tags"}}),t._v(" "),i("div",{staticClass:"form-control-element__box form-control-element__box--pretify bg-secondary"},[i("span",{staticClass:"fa fa-check",on:{click:function(e){t.deactivateElement("tags")}}})])],1):t._e()]):t._e(),t._v(" "),t.editing&&t.activeElement.tags?t._e():i("c-tags",{attrs:{tags:t.idea.tags?t.idea.tags.map(function(t){return t.value}):[]}})],1)]),t._v(" "),i("div",{staticClass:"col-12 col-md-4"},[i("c-badges",{attrs:{icons:t.idea.meta.badges||[]}})],1),t._v(" "),i("div",{staticClass:"col-12 col-md-4"},[t.editing?i("div",{staticClass:"editor text-right",staticStyle:{"margin-bottom":"30px"}},[t.activeElement.backgroundImage?t._e():i("button",{staticClass:"btn btn-secondary btn--icon btn--icon-stacked btn--icon-right",on:{click:function(e){t.activateElement("backgroundImage")}}},[t._v("Change Background Image "),i("span",{staticClass:"fa fa-edit"})]),t._v(" "),t.activeElement.backgroundImage?i("div",{},[i("div",{staticClass:"form-control-element form-control-element--right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.idea.meta.images.header,expression:"idea.meta.images.header"}],ref:"backgroundImage",staticClass:"form-control",attrs:{name:"backgroundImage",type:"text",placeholder:"Background image URL..."},domProps:{value:t.idea.meta.images.header},on:{input:function(e){e.target.composing||t.$set(t.idea.meta.images,"header",e.target.value)}}}),t._v(" "),i("div",{staticClass:"form-control-element__box form-control-element__box--pretify bg-secondary"},[i("span",{staticClass:"fa fa-check",on:{click:function(e){t.deactivateElement("backgroundImage")}}})])])]):t._e(),t._v(" "),i("label",{staticStyle:{display:"block"}},[t._v("RECOMMENDED SIZE: 1120 x 524px")])]):t._e(),t._v(" "),t.editing?i("div",{staticClass:"editor text-right"},[t.activeElement.storeImage?t._e():i("button",{staticClass:"btn btn-secondary btn--icon btn--icon-stacked btn--icon-right",on:{click:function(e){t.activateElement("storeImage")}}},[t._v("Change Idea Image "),i("span",{staticClass:"fa fa-edit"})]),t._v(" "),t.activeElement.storeImage?i("div",{},[i("div",{staticClass:"form-control-element form-control-element--right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.idea.meta.images.header,expression:"idea.meta.images.header"}],ref:"storeImage",staticClass:"form-control",attrs:{name:"storeImage",type:"text",placeholder:"Background image URL..."},domProps:{value:t.idea.meta.images.header},on:{input:function(e){e.target.composing||t.$set(t.idea.meta.images,"header",e.target.value)}}}),t._v(" "),i("div",{staticClass:"form-control-element__box form-control-element__box--pretify bg-secondary"},[i("span",{staticClass:"fa fa-check",on:{click:function(e){t.deactivateElement("storeImage")}}})])])]):t._e(),t._v(" "),i("label",{staticStyle:{display:"block"}},[t._v("RECOMMENDED SIZE: 2140 x 680px")])]):t._e()])]),t._v(" "),i("c-button",{staticClass:"w-100 d-flex d-md-none justify-content-center my-4",attrs:{status:"dark",size:"lg","data-toggle":"collapse","data-target":"#c-nav","aria-expanded":"false","aria-controls":"c-nav"}},[t._v("\n                Menu\n            ")]),t._v(" "),i("div",{staticClass:"collapse show c-nav",attrs:{id:"c-nav"}},[i("ul",{staticClass:"nav nav-tabs justify-content-between"},[i("li",{staticClass:"nav-item",on:{click:function(e){t.section="overview"}}},[i("router-link",{staticClass:"nav-link",class:{active:"overview"===t.section},attrs:{to:"/idea/"+(t.idea.id||"new")}},[t._v("\n                            Overview\n                        ")])],1),t._v(" "),i("li",{directives:[{name:"darklaunch",rawName:"v-darklaunch",value:"COMMUNITY",expression:"'COMMUNITY'"}],staticClass:"nav-item",on:{click:function(e){t.section="community"}}},[i("router-link",{staticClass:"nav-link",class:{active:"community"===t.section},attrs:{to:"/idea/"+(t.idea.id||"new")+"/community"}},[t._v("\n                            Community\n                            "),i("c-updates-count",{directives:[{name:"darklaunch",rawName:"v-darklaunch",value:"UPDATE-COUNTER",expression:"'UPDATE-COUNTER'"}]},[t._v("\n                                0\n                            ")])],1)],1),t._v(" "),t.editing?i("li",{staticClass:"nav-item"},[i("a",{staticClass:"nav-link",class:{active:"configure"===t.section},on:{click:function(e){t.section="configure"}}},[t._v("Configure")])]):t._e()])]),t._v(" "),"configure"===t.section?i("div",{staticClass:"row",attrs:{id:"configure",editing:t.editing}},[i("div",{staticClass:"col-12"},[i("c-block",{attrs:{title:"Campaign"}},[t._v("\n                        test\n                    ")])],1)]):t._e()],1),t._v(" "),i("div",{staticClass:"col-12 margin-top-40 ",attrs:{id:"overview"}},[i("transition",{attrs:{name:"page",mode:"out-in"}},["overview"===t.section?i("c-idea-overview",{attrs:{idea:t.idea,editing:t.editing,activeElement:t.activeElement},on:{activateElement:t.activateElement,deactivateElement:t.deactivateElement}}):t._e(),t._v(" "),"community"===t.section?i("c-idea-community",{attrs:{idea:t.idea,editing:t.editing,activeElement:t.activeElement}}):t._e()],1)],1)]):t._e()])},[],!1,null,"5996be6b",null);e.default=o.exports},275:function(t,e){},276:function(t,e){},958:function(t,e,i){"use strict";var a=i(275);i.n(a).a},959:function(t,e,i){"use strict";var a=i(276);i.n(a).a}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[189],{21:function(t,e,a){"use strict";e.__esModule=!0;var s,n=a(423),r=(s=n)&&s.__esModule?s:{default:s};e.default=function(t,e,a){return e in t?(0,r.default)(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},421:function(t,e,a){var s=a(20);s(s.S+s.F*!a(31),"Object",{defineProperty:a(32).f})},422:function(t,e,a){a(421);var s=a(11).Object;t.exports=function(t,e,a){return s.defineProperty(t,e,a)}},423:function(t,e,a){t.exports={default:a(422),__esModule:!0}},433:function(t,e,a){"use strict";var s=a(47);a.n(s).a},47:function(t,e){},737:function(t,e,a){"use strict";a.r(e);var s=a(21),n=a.n(s),r=a(4),i=a.n(r),o=a(13),l=a.n(o),c=a(1),f=a.n(c),u={props:{offer:{type:Object}},components:{"c-author":function(t){return a.e(117).then(function(){var e=[a(640)];t.apply(null,e)}.bind(this)).catch(a.oe)},"c-tooltip":function(t){return a.e(188).then(function(){var e=[a(655)];t.apply(null,e)}.bind(this)).catch(a.oe)},"c-asset-preview":function(t){return a.e(187).then(function(){var e=[a(656)];t.apply(null,e)}.bind(this)).catch(a.oe)}},data:function(){return{showDetails:!1}},methods:{expandDetails:function(){this.showDetails=!this.showDetails,this.offer.new&&this.$emit("wasSeen")}},computed:{totalValue:function(){var t=this.offer.assets;return l()(t).reduce(function(e,a){return i()({},e,n()({},a,t[a].reduce(function(t,e){return t+e.price.current},0)))},{})},finalBalance:function(){return Math.round(this.totalValue.yours-100*this.totalValue.their)/100}},filters:{expIn:function(t){return f()(t).add(2,"weeks")}}},_=(a(433),a(0)),d=Object(_.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"trade-offer",class:{"trade-offer--new":t.offer.new}},[a("div",{staticClass:"trade-offer__date"},[a("span",[t.offer.new?a("span",{staticClass:"trade-offer__status"},[t._v("NEW")]):t._e(),t._v("\n            "+t._s(t._f("formatDate")(t.offer.date))+" - "+t._s(t._f("timeAgo")(t.offer.date))+"\n        ")]),t._v(" "),a("span",[t._v("\n            Expires "+t._s(t._f("timeAgo")(t._f("expIn")(t.offer.date)))+"\n        ")])]),t._v(" "),a("div",{staticClass:"trade-offer__content",on:{click:function(e){t.expandDetails()}}},[a("c-author",{attrs:{author:t.offer.author}}),t._v(" "),a("span",[t._v("\n            Trade "+t._s(t.offer.assets.their.length)+" for "+t._s(t.offer.assets.yours.length)+" assets\n        ")]),t._v(" "),a("div",[a("c-button",{attrs:{status:"success",icon_hide:""}},[t._v("Accept")]),t._v(" "),a("c-button",{attrs:{status:"danger",icon_hide:""}},[t._v("Decline")])],1)],1),t._v(" "),a("transition",{attrs:{name:"slide-in-top"}},[t.showDetails?a("div",{staticClass:"trade-offer__details"},[a("h4",[t._v("Offer details")]),t._v(" "),t._l(t.offer.assets,function(e,s){return a("table",{key:s,staticClass:"trade-offer__assets-table"},[a("thead",[a("th",[t._v(t._s(t._f("upperFirstChar")(s))+" items")]),t._v(" "),a("th",[t._v("Total value $"+t._s(t.totalValue[s]))])]),t._v(" "),a("tbody",t._l(e,function(e){return a("tr",{key:e.id},[a("td",[a("c-tooltip",[a("c-asset-preview",{attrs:{slot:"tooltip",asset:e},slot:"tooltip"}),t._v(" "),a("div",{staticClass:"asset__info"},[a("c-img",{staticClass:"asset__image",attrs:{src:e.image}}),t._v("\n                                    "+t._s(e.name)+"\n                                ")],1)],1)],1),t._v(" "),a("td",[t._v("$"+t._s(e.price.current))])])}))])}),t._v(" "),a("table",{staticClass:"trade-offer__summary-table"},[a("thead",[a("tr",[a("th",{attrs:{colspan:"2"}},[t._v("Summary:")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Their items:")]),t._v(" "),a("td",[t._v("- "+t._s(t.totalValue.their)+"$")])]),t._v(" "),a("tr",[a("td",[t._v("Yours items:")]),t._v(" "),a("td",[t._v("+ "+t._s(t.totalValue.yours)+"$")])])]),t._v(" "),a("tfoot",[a("tr",[a("td",[t._v("Final balance:")]),t._v(" "),a("td",[a("span",{staticClass:"total-balance",class:[t.finalBalance>0?"total-balance--positive":t.finalBalance<0?"total-balance--negative":""]},[t._v("\n                                "+t._s(t.finalBalance>0?"+":"")+"\n                                "+t._s(t.finalBalance)+"$\n                            ")])])])])])],2):t._e()])],1)},[],!1,null,"3bfa0244",null);e.default=d.exports}}]);
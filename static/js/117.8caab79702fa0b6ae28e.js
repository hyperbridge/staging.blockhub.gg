(window.webpackJsonp=window.webpackJsonp||[]).push([[117],{1039:function(t,e,i){"use strict";var o=i(356);i.n(o).a},1602:function(t,e,i){"use strict";i.r(e);var o=i(2),s=i.n(o),r={components:{"c-heading-bar":function(t){return Promise.resolve().then(function(){var e=[i(1573)];t.apply(null,e)}.bind(this)).catch(i.oe)},"c-user-card":function(t){return i.e(12).then(function(){var e=[i(1517)];t.apply(null,e)}.bind(this)).catch(i.oe)},"c-button-arrows":function(t){return i.e(205).then(function(){var e=[i(1551)];t.apply(null,e)}.bind(this)).catch(i.oe)},"c-modal-light":function(t){return i.e(252).then(function(){var e=[i(1475)];t.apply(null,e)}.bind(this)).catch(i.oe)},"c-input-searcher":function(t){return Promise.resolve().then(function(){var e=[i(1370)];t.apply(null,e)}.bind(this)).catch(i.oe)}},data:function(){return{newProfile:{name:"Default",wallet:"",img:"/static/img/new-profile.png",default:!1,edit:!1},profileCopy:{},editedProfile:null,removeProfile:null,filterPhrase:"",sortAsc:!0}},methods:{setDefault:function(t){this.$store.state.application.activeProfile=t,this.$store.state.application.developerMode="developer"===t.role,this.saveProfiles()},editProfile:function(t){this.editedProfile?this.$snotify.warning("You must finish editing the current profile"):(t.edit=!0,this.editedProfile=t)},cancelEditProfile:function(t){t.edit=!1,this.editedProfile=null},saveProfile:function(t){for(var e in t)t[e]=this.profileClone[e];t.name||(t.name="Default"),t.edit=!1,this.editedProfile=null,this.$store.dispatch("profiles/update",[t.id,{name:t.name,avatar:t.img,address:t.wallet}])},deleteProfile:function(t){this.removeProfile?(this.$store.dispatch("profiles/remove",this.removeProfile.id),this.removeProfile.edit=!1,this.removeProfile.removing=!0,this.removeProfile=null):this.removeProfile=t,this.editedProfile=null},createProfile:function(){var t=this.newProfile;this.$store.dispatch("profiles/create",{name:t.name,avatar:t.img,address:t.wallet})},saveProfiles:function(){this.$store.dispatch("application/updateState")}},created:function(){this.$store.dispatch("profiles/find",{query:{accountId:this.$store.state.auth.user.id,$sort:{createdAt:-1},$limit:25}})},computed:{profiles:function(){return this.$store.getters["profiles/list"]},activeProfile:function(){return this.$store.state.application.activeProfile},profileClone:function(){return this.editedProfile?s()({},this.editedProfile):{}},isEditing:function(){return this.profiles&&this.profiles.find(function(t){return t.edit})},filteredProfiles:function(){var t=this;return this.profiles&&this.profiles.filter(function(e){return!e.name||e.name.toLowerCase().includes(t.filterPhrase.toLowerCase())}).sort(function(e,i){return e.name>i.name?t.sortAsc?1:-1:0})}},watch:{"$store.state.application.initialized":function(){},"$store.state.profiles.isCreatePending":function(t,e){var i=this;!1===t&&this.editProfile(this.profiles.find(function(t){return t.id===i.$store.state.profiles.currentId}))},"$store.state.profiles.list":function(t,e){this.$store.state.application.account.profiles=this.$store.state.profiles.list}}},a=(i(1039),i(0)),n=Object(a.a)(r,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("c-layout",{attrs:{navigationKey:"account"}},[t.profiles?i("div",{staticClass:"row align-items-stretch justify-content-center margin-bottom-40"},[i("div",{staticClass:"col-12"},[i("c-heading-bar",{attrs:{name:"My Profile",showArrows:!1,showBackground:!1}})],1),t._v(" "),i("div",{staticClass:"col-12 col-md-6 col-lg-4 my_profile"},[t.activeProfile?i("c-user-card",{attrs:{user:t.activeProfile,previewMode:!0},on:{updateProfile:function(e,i){return t.activeProfile[e]=i}}}):t.profiles.length?i("p",[t._v("\n                You don't have a default profile.\n            ")]):i("p",[t._v("\n                You don't have any profiles yet.\n            ")])],1),t._v(" "),t.activeProfile?i("div",{staticClass:"col-12 col-md-6 col-lg-4",attrs:{hidden:""}},[i("div",{staticClass:"verification-blk text-center"},[i("h3",{staticClass:"text-white"},[t._v("Verify Your Profile")]),t._v(" "),t.activeProfile.isVerified?i("div",{staticClass:"status"},[i("i",{staticClass:"fas fa-check"}),t._v("\n                    Verified\n                ")]):t.activeProfile.isVerifying?i("div",{staticClass:"status"},[i("i",{staticClass:"fas fa-hourglass"}),t._v("\n                    Verifying\n                ")]):i("c-button",{staticClass:"mt-3",attrs:{status:"outline-success",href:"#/account/verification"}},[t._v("\n                    Click here to verify\n                ")]),t._v(" "),t.activeProfile.isVerified?i("div",{staticClass:"date"},[t._v("\n                    Valid up to $7,500 USD\n                ")]):t._e()],1)]):t._e()]):t._e(),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 mb-4"},[i("c-button",{attrs:{status:"info",icon:"user-plus"},on:{click:t.createProfile}},[t._v(" New Profile")])],1),t._v(" "),i("div",{staticClass:"col-12"},[i("c-heading-bar",{attrs:{name:"All Profiles",showArrows:!1,showBackground:!1,showActions:""}},[i("div",{staticClass:"additional-action margin-left-20",attrs:{slot:"additional-action"},slot:"additional-action"},[i("span",{staticClass:"text"},[t._v("Name "),i("c-icon",{attrs:{name:"user"}})],1),t._v(" "),i("c-button-arrows",{attrs:{activeUp:t.sortAsc},on:{clickUp:function(e){t.sortAsc=!0},clickDown:function(e){t.sortAsc=!1}}})],1),t._v(" "),i("div",{directives:[{name:"darklaunch",rawName:"v-darklaunch",value:"REPUTATION",expression:"'REPUTATION'"}],staticClass:"additional-action margin-left-20",attrs:{slot:"additional-action"},slot:"additional-action"},[i("span",{staticClass:"text"},[t._v("Rating "),i("c-icon",{attrs:{name:"trophy"}})],1),t._v(" "),i("c-button-arrows")],1),t._v(" "),i("div",{staticClass:"additional-action margin-left-20 padding-5",attrs:{slot:"additional-action"},slot:"additional-action"},[i("c-input-searcher",{attrs:{placeholder:"Search"},model:{value:t.filterPhrase,callback:function(e){t.filterPhrase=e},expression:"filterPhrase"}})],1)])],1),t._v(" "),i("c-loading",{key:"loading",attrs:{enabled:!t.filteredProfiles.length}}),t._v(" "),t.filteredProfiles.length?i("div",{staticClass:"profile-picker"},t._l(t.filteredProfiles,function(e){return i("div",{key:e.id,staticClass:"profile-picker__profile",class:{edit:e.edit,"default-type":e.id==(t.activeProfile&&t.activeProfile.id)}},[i("c-user-card",t._b({staticClass:"margin-bottom-30",class:{default:e.id==(t.activeProfile&&t.activeProfile.id)},attrs:{user:e,previewMode:!e.edit,removing:e.removing}},"c-user-card",t.profileClone,!1,!0)),t._v(" "),i("div",{staticClass:"profile__action"},[e.edit||e.id==(t.activeProfile&&t.activeProfile.id)?t._e():i("c-button",{attrs:{status:"info",icon:"check"},on:{click:function(i){t.setDefault(e)}}},[t._v("Set default")]),t._v(" "),e.edit?t._e():i("c-button",{attrs:{status:"share",icon:"pen"},on:{click:function(i){t.editProfile(e)}}},[t._v("Edit")]),t._v(" "),e.edit?i("c-button",{attrs:{status:"share",icon:"pen"},on:{click:function(i){t.saveProfile(e)}}},[t._v("Save")]):t._e(),t._v(" "),e.edit?i("c-button",{attrs:{status:"danger",icon:"trash"},on:{click:function(i){t.deleteProfile(e)}}},[t._v("Delete")]):t._e(),t._v(" "),e.edit?i("c-button",{attrs:{icon:"times"},on:{click:function(i){t.cancelEditProfile(e)}}},[t._v("Cancel")]):t._e()],1)],1)})):t._e(),t._v(" "),t.removeProfile?i("c-modal-light",{on:{close:function(e){t.removeProfile=null}}},[i("h4",[t._v("Are you sure that you want to delete this profile?")]),t._v(" "),i("p",[t._v("This operation can not be reversed")]),t._v(" "),i("c-user-card",{attrs:{user:t.removeProfile,previewMode:""}}),t._v(" "),i("div",[i("div",{staticClass:"profile-remove__buttons"},[i("c-button",{attrs:{size:"md"},on:{click:function(e){t.removeProfile=null}}},[t._v("Cancel")]),t._v(" "),i("c-button",{attrs:{size:"md"},on:{click:function(e){t.deleteProfile()}}},[t._v("Confirm")])],1)])],1):t._e()],1)])},[],!1,null,"7481f637",null);e.default=n.exports},356:function(t,e){}}]);
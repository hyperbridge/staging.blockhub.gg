(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{1534:function(t,n,e){"use strict";e.r(n);var s=e(11),r=e.n(s),i={props:["id","trxa","trx"],mixins:[e(29).a],components:{"c-block":function(t){return Promise.resolve().then(function(){var n=[e(1437)];t.apply(null,n)}.bind(this)).catch(e.oe)},"c-block-menu":function(t){return e.e(198).then(function(){var n=[e(1274)];t.apply(null,n)}.bind(this)).catch(e.oe)},"c-list":function(t){return e.e(183).then(function(){var n=[e(1359)];t.apply(null,n)}.bind(this)).catch(e.oe)},"c-list-submenu":function(t){return e.e(271).then(function(){var n=[e(1394)];t.apply(null,n)}.bind(this)).catch(e.oe)},"c-list-submenu-2":function(t){return e.e(270).then(function(){var n=[e(1390)];t.apply(null,n)}.bind(this)).catch(e.oe)},"c-tooltip":function(t){return e.e(192).then(function(){var n=[e(1400)];t.apply(null,n)}.bind(this)).catch(e.oe)},"c-asset-preview":function(t){return e.e(178).then(function(){var n=[e(1405)];t.apply(null,n)}.bind(this)).catch(e.oe)},"c-asset-preview-small":function(t){return e.e(269).then(function(){var n=[e(1387)];t.apply(null,n)}.bind(this)).catch(e.oe)},"c-exchange-bar":function(t){return e.e(268).then(function(){var n=[e(1385)];t.apply(null,n)}.bind(this)).catch(e.oe)},"c-author":function(t){return e.e(173).then(function(){var n=[e(1416)];t.apply(null,n)}.bind(this)).catch(e.oe)},"c-assets-grid":function(t){return e.e(175).then(function(){var n=[e(1380)];t.apply(null,n)}.bind(this)).catch(e.oe)}},data:function(){return{yoursOffer:[].concat(r()(this.trx.yourOffer)),theirOffer:[].concat(r()(this.trx.contractorOffer))}},methods:{updateTransaction:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"create";this.$store.dispatch(e+"WeakRel",["assets/transactions/"+t+"Offer",this.id,n.id])},updateTrx:function(){var t=this.yoursOffer,n=this.theirOffer;this.$store.dispatch("updateV2",["assets/transactions",this.id,{yourOffer:t.map(function(t){return t.id}),theirOffer:n.map(function(t){return t.id})}])},addTransactionAsset:function(t,n){var e=this.tradeId;this.$store.commit("addTransactionAsset",{asset:t,target:n,tradeId:e})},deleteAsset:function(t,n){this[t+"Offer"].splice()}},computed:{price:function(){var t=this.yoursOffer,n=this.theirOffer,e=function(t){return Math.round(100*t)/100},s=e(t.reduce(function(t,n){return t+n.price.current},0)),r=e(n.reduce(function(t,n){return t+n.price.current},0));return{yours:s,their:r,sum:e(s-r)}}}},a=(e(783),e(0)),c=Object(a.a)(i,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("article",[e("c-block",{staticClass:"transaction",attrs:{title:"Trading with "+t.trx.contractor.name}},[e("div",{staticClass:"transaction__block"},[e("div",{staticClass:"transaction__headings"},[e("h4",[t._v("You offered")]),t._v(" "),e("h4",[t._v("Your inventory")])]),t._v(" "),e("div",{staticClass:"transaction__management"},[e("div",{staticClass:"management__selected-assets"},[e("c-assets-grid",{staticClass:"management__assets-grid",attrs:{assets:t.yoursOffer},on:{click:function(n){t.handleArray(n,"yoursOffer")}}})],1),t._v(" "),e("div",{staticClass:"management__inventory-explorer"},[e("c-list-submenu",{attrs:{items:t.trx.you.inventoryGrouped,isParent:""},scopedSlots:t._u([{key:"sublist",fn:function(n){var s=n.sublist;return e("c-list-submenu",{attrs:{items:s},scopedSlots:t._u([{key:"default",fn:function(n){return e("div",{staticClass:"sublist-menu__assets"},[e("c-asset-preview-small",{attrs:{slot:"item-content",asset:n.list},nativeOn:{click:function(e){t.yoursOffer.push(n.list)}},slot:"item-content"})],1)}}])})}}])})],1)])]),t._v(" "),e("c-exchange-bar",{attrs:{price:t.price,yours:t.yoursOffer.length,their:t.theirOffer.length}}),t._v(" "),e("div",{staticClass:"transaction__block"},[e("div",{staticClass:"transaction__headings"},[e("h4",[t._v("For "+t._s(t.trx.contractor.name)+"'s")]),t._v(" "),e("c-author",{attrs:{author:t.trx.contractor}}),t._v(" "),e("h4",[t._v(t._s(t.trx.contractor.name)+"'s inventory")])],1),t._v(" "),e("div",{staticClass:"transaction__management"},[e("div",{staticClass:"management__selected-assets"},[e("c-assets-grid",{staticClass:"management__assets-grid",attrs:{assets:t.theirOffer},on:{click:function(n){t.handleArray(n,"theirOffer")}}})],1),t._v(" "),e("div",{staticClass:"management__inventory-explorer"},[e("c-list-submenu",{attrs:{items:t.trx.contractor.inventoryGrouped,isParent:""},scopedSlots:t._u([{key:"sublist",fn:function(n){var s=n.sublist;return e("c-list-submenu",{attrs:{items:s},scopedSlots:t._u([{key:"default",fn:function(n){return e("div",{staticClass:"sublist-menu__assets"},[e("c-asset-preview-small",{attrs:{slot:"item-content",asset:n.list},nativeOn:{click:function(e){t.theirOffer.push(n.list)}},slot:"item-content"})],1)}}])})}}])})],1)])]),t._v(" "),e("div",{staticClass:"transaction__actions"},[e("c-button",{attrs:{status:"info",icon_hide:""},on:{click:function(n){t.updateTrx()}}},[t._v("Update transaction")])],1)],1)],1)},[],!1,null,"5ce16fde",null);n.default=c.exports},154:function(t,n){},783:function(t,n,e){"use strict";var s=e(154);e.n(s).a}}]);
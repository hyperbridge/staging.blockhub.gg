(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{1630:function(t,n,s){"use strict";s.r(n);var e=s(11),r=s.n(e),i={props:["id","trxa","trx"],mixins:[s(30).a],components:{"c-block":function(t){return Promise.resolve().then(function(){var n=[s(1574)];t.apply(null,n)}.bind(this)).catch(s.oe)},"c-block-menu":function(t){return s.e(220).then(function(){var n=[s(1372)];t.apply(null,n)}.bind(this)).catch(s.oe)},"c-list":function(t){return s.e(206).then(function(){var n=[s(1556)];t.apply(null,n)}.bind(this)).catch(s.oe)},"c-list-submenu":function(t){return s.e(301).then(function(){var n=[s(1429)];t.apply(null,n)}.bind(this)).catch(s.oe)},"c-list-submenu-2":function(t){return s.e(300).then(function(){var n=[s(1433)];t.apply(null,n)}.bind(this)).catch(s.oe)},"c-tooltip":function(t){return s.e(203).then(function(){var n=[s(1455)];t.apply(null,n)}.bind(this)).catch(s.oe)},"c-asset-preview":function(t){return s.e(198).then(function(){var n=[s(1498)];t.apply(null,n)}.bind(this)).catch(s.oe)},"c-asset-preview-small":function(t){return s.e(299).then(function(){var n=[s(1434)];t.apply(null,n)}.bind(this)).catch(s.oe)},"c-exchange-bar":function(t){return s.e(298).then(function(){var n=[s(1439)];t.apply(null,n)}.bind(this)).catch(s.oe)},"c-author":function(t){return s.e(190).then(function(){var n=[s(1485)];t.apply(null,n)}.bind(this)).catch(s.oe)},"c-assets-grid":function(t){return s.e(193).then(function(){var n=[s(1447)];t.apply(null,n)}.bind(this)).catch(s.oe)}},data:function(){return{yoursOffer:[].concat(r()(this.trx.yourOffer)),theirOffer:[].concat(r()(this.trx.contractorOffer))}},methods:{updateTransaction:function(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"create";this.$store.dispatch(s+"WeakRel",["assets/transactions/"+t+"Offer",this.id,n.id])},updateTrx:function(){var t=this.yoursOffer,n=this.theirOffer;this.$store.dispatch("updateV2",["assets/transactions",this.id,{yourOffer:t.map(function(t){return t.id}),theirOffer:n.map(function(t){return t.id})}])},addTransactionAsset:function(t,n){var s=this.tradeId;this.$store.commit("addTransactionAsset",{asset:t,target:n,tradeId:s})},deleteAsset:function(t,n){this[t+"Offer"].splice()}},computed:{price:function(){var t=this.yoursOffer,n=this.theirOffer,s=function(t){return Math.round(100*t)/100},e=s(t.reduce(function(t,n){return t+n.price.current},0)),r=s(n.reduce(function(t,n){return t+n.price.current},0));return{yours:e,their:r,sum:s(e-r)}}}},a=(s(870),s(0)),c=Object(a.a)(i,function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("article",[s("c-block",{staticClass:"transaction",attrs:{title:"Trading with "+t.trx.contractor.name}},[s("div",{staticClass:"transaction__block"},[s("div",{staticClass:"transaction__headings"},[s("h4",[t._v("You offered")]),t._v(" "),s("h4",[t._v("Your inventory")])]),t._v(" "),s("div",{staticClass:"transaction__management"},[s("div",{staticClass:"management__selected-assets"},[s("c-assets-grid",{staticClass:"management__assets-grid",attrs:{assets:t.yoursOffer},on:{click:function(n){t.handleArray(n,"yoursOffer")}}})],1),t._v(" "),s("div",{staticClass:"management__inventory-explorer"},[s("c-list-submenu",{attrs:{items:t.trx.you.inventoryGrouped,isParent:""},scopedSlots:t._u([{key:"sublist",fn:function(n){var e=n.sublist;return s("c-list-submenu",{attrs:{items:e},scopedSlots:t._u([{key:"default",fn:function(n){return s("div",{staticClass:"sublist-menu__assets"},[s("c-asset-preview-small",{attrs:{slot:"item-content",asset:n.list},nativeOn:{click:function(s){t.yoursOffer.push(n.list)}},slot:"item-content"})],1)}}])})}}])})],1)])]),t._v(" "),s("c-exchange-bar",{attrs:{price:t.price,yours:t.yoursOffer.length,their:t.theirOffer.length}}),t._v(" "),s("div",{staticClass:"transaction__block"},[s("div",{staticClass:"transaction__headings"},[s("h4",[t._v("For "+t._s(t.trx.contractor.name)+"'s")]),t._v(" "),s("c-author",{attrs:{author:t.trx.contractor}}),t._v(" "),s("h4",[t._v(t._s(t.trx.contractor.name)+"'s inventory")])],1),t._v(" "),s("div",{staticClass:"transaction__management"},[s("div",{staticClass:"management__selected-assets"},[s("c-assets-grid",{staticClass:"management__assets-grid",attrs:{assets:t.theirOffer},on:{click:function(n){t.handleArray(n,"theirOffer")}}})],1),t._v(" "),s("div",{staticClass:"management__inventory-explorer"},[s("c-list-submenu",{attrs:{items:t.trx.contractor.inventoryGrouped,isParent:""},scopedSlots:t._u([{key:"sublist",fn:function(n){var e=n.sublist;return s("c-list-submenu",{attrs:{items:e},scopedSlots:t._u([{key:"default",fn:function(n){return s("div",{staticClass:"sublist-menu__assets"},[s("c-asset-preview-small",{attrs:{slot:"item-content",asset:n.list},nativeOn:{click:function(s){t.theirOffer.push(n.list)}},slot:"item-content"})],1)}}])})}}])})],1)])]),t._v(" "),s("div",{staticClass:"transaction__actions"},[s("c-button",{attrs:{status:"info",iconHide:""},on:{click:function(n){t.updateTrx()}}},[t._v("Update transaction")])],1)],1)],1)},[],!1,null,"6b78d5c2",null);n.default=c.exports},186:function(t,n){},870:function(t,n,s){"use strict";var e=s(186);s.n(e).a}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{1515:function(t,e,o){"use strict";o.r(e);var a=o(5),s=o.n(a),i=o(9),r=o.n(i),n=o(17),c=o.n(n),l=o(2),u=o.n(l),d=o(681),p=o.n(d),v=(o(74),{props:{id:[String,Number]},components:{"c-layout":function(t){return o.e(212).then(function(){var e=[o(1697)];t.apply(null,e)}.bind(this)).catch(o.oe)},"c-html-editor":function(t){return o.e(242).then(function(){var e=[o(1693)];t.apply(null,e)}.bind(this)).catch(o.oe)},"c-json-editor":function(t){return o.e(241).then(function(){var e=[o(1692)];t.apply(null,e)}.bind(this)).catch(o.oe)},"c-multiselect":function(t){return o.e(216).then(function(){var e=[o(1912)];t.apply(null,e)}.bind(this)).catch(o.oe)}},data:function(){return{loadingState:!0,notice:"",project:"new"===this.id?this.$store.state.funding.defaultProject:this.$store.getters["projects/get"](this.id),advanced:!1,blockchain:!1,tagOptions:[]}},computed:{savedProject:function(){return this.$store.getters["projects/get"](this.id)},projectJson:function(){return p()(this.project,null,2,100)}},watch:{savedProject:function(){this.project=u()({},this.project,this.savedProject)}},created:function(){"new"!==this.id&&this.$store.dispatch("projects/find",{query:{id:Number(this.id),$eager:"tags"}})},methods:{updateProjectRaw:function(t){this.project=JSON.parse(t)},syncBlockchain:function(){},createBlockchain:function(){var t=this,e={key:function(t,e,o,a,i,n,l,u,d,p,v){var m,f=this,h=v.project,g=v.profile;return new c.a((m=r()(s.a.mark(function t(i,r){var n,c,l;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.api.ethereum.state.contracts.ProjectRegistration.deployed,c=!1,l=n.ProjectCreated().watch(function(t,a){if(!c){if(c=!0,t)return console.warn("[BlockHub][Marketplace] Error",t),r(t);h.$loki=void 0,h.id=a.args.projectId.toNumber();try{e.funding.projects.insert(h),console.log("after",h.id)}catch(t){try{e.funding.projects.update(h)}catch(t){r(t)}}e.save(),o.sendCommand("updateState",{module:"funding",state:{projects:e.funding.projects.data}}),console.log("Project created"),i(h)}}),t.next=5,n.createProject(h.name,h.description,h.content,{from:g.address});case 5:l.stopWatching(function(){});case 6:case"end":return t.stop()}},t,f)})),function(t,e){return m.apply(this,arguments)}))}.toString(),params:{profile:this.$store.state.application.activeProfile,project:this.project}};window.BlockHub.Bridge.sendCommand("eval",e).then(function(e){e.id&&(t.project.id=e.id,t.successfulCreationMessage="Congratulations, your project has been created!",t.funding.projects[t.project.id]=t.project,t.$router.push("/business/project/"+t.project.id))})},updateBlockchain:function(){window.BlockHub.Bridge.sendCommand("eval",function(t,e,o,a,i,n,l,u,d,p,v){var m=this;return new c.a(r()(s.a.mark(function t(){var o,i,r,n,l,u,d;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o={title:"test",description:"test",about:"test",minContributionGoal:1e3,maxContributionGoal:1e4,contributionPeriod:4,noRefunds:!1,noTimeline:!0},i=a.api.ethereum.state.contracts.ProjectRegistration.deployed,r=null,n=new c.a(function(t){r=t}),l=i.ProjectCreated().watch(function(t,a){if(t)return console.warn("[BlockHub][Funding] Error",t),reject(t);o.$loki=void 0,o.id=a.args.projectId.toNumber();try{e.funding.projects.insert(o)}catch(t){try{e.funding.projects.update(o)}catch(t){reject(t)}}r(o.id)}),t.next=7,i.createProject(o.title,o.description,o.about);case 7:return l.stopWatching(),t.next=10,n;case 10:return u=t.sent,t.next=13,i.setProjectContributionGoals(u,o.minContributionGoal,o.maxContributionGoal,o.contributionPeriod,{from:developerAccount});case 13:return t.next=15,i.setProjectTerms(u,o.noRefunds,o.noTimeline,{from:developerAccount});case 15:return t.next=17,i.getProject(u);case 17:d=t.sent,console.log(d);case 19:case"end":return t.stop()}},t,m)})))}.toString())},addTag:function(t){var e={key:t.substring(0,2)+Math.floor(1e7*Math.random()),value:t};this.tagOptions.push(e),this.project.tags.push(e)},viewPage:function(){},toggleAdvanced:function(){this.advanced=!this.advanced},create:function(){var t=this;this.project.ownerId=this.$store.state.application.activeProfile.id,this.$store.dispatch("projects/create",this.project).then(function(e){t.project.id=e.id,t.notice="Congratulations, your project has been created!",t.$router.push("/business/project/"+t.project.id)})},save:function(){var t=this;this.project.ownerId=this.$store.state.application.activeProfile.id,this.$store.dispatch("projects/update",[this.project.id,this.project,{query:{$eager:"tags"}}]).then(function(){t.notice="Project has been saved.",window.scrollTo(0,0)})}}}),m=(o(999),o(0)),f=Object(m.a)(v,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("c-layout",[t.project?o("div",{staticClass:"row margin-bottom-40"},[t.notice?o("div",{staticClass:"col-md-12"},[o("p",{staticClass:"alert alert-info"},[t._v(t._s(t.notice))]),t._v(" "),o("br"),o("br")]):t._e(),t._v(" "),o("div",{staticClass:"col-md-7"},[o("div",{staticClass:"form-group row"},[o("label",{staticClass:"switch switch-sm col-sm-3"},[o("label",[t._v("Title")])]),t._v(" "),o("div",{staticClass:"col-sm-9"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.project.name,expression:"project.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:""},domProps:{value:t.project.name},on:{input:function(e){e.target.composing||t.$set(t.project,"name",e.target.value)}}}),t._v(" "),o("span",{staticClass:"form-text"})])]),t._v(" "),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"switch switch-sm col-sm-3"},[o("label",[t._v("Description")])]),t._v(" "),o("div",{staticClass:"col-sm-9"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.project.description,expression:"project.description"}],staticClass:"form-control",attrs:{type:"text",placeholder:""},domProps:{value:t.project.description},on:{input:function(e){e.target.composing||t.$set(t.project,"description",e.target.value)}}}),t._v(" "),o("span",{staticClass:"form-text"})])])]),t._v(" "),o("div",{staticClass:"col-md-5"},[o("div",{staticClass:"form-group row"},[o("label",{staticClass:"switch switch-sm col-sm-4"},[o("label",[t._v("Tags")])]),t._v(" "),o("div",{staticClass:"col-sm-8"},[o("c-multiselect",{attrs:{"tag-placeholder":"Add this as new tag",placeholder:"Search or add a tag",label:"value","track-by":"key",options:t.tagOptions,multiple:!0,taggable:!0},on:{tag:t.addTag},model:{value:t.project.tags,callback:function(e){t.$set(t.project,"tags",e)},expression:"project.tags"}}),t._v(" "),o("span",{staticClass:"form-text"})],1)]),t._v(" "),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"switch switch-sm col-sm-4"},[o("label",[t._v("Minimum Contribution Goal")])]),t._v(" "),o("div",{staticClass:"col-sm-8"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.project.meta.funds.goal,expression:"project.meta.funds.goal"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Example: 0"},domProps:{value:t.project.meta.funds.goal},on:{input:function(e){e.target.composing||t.$set(t.project.meta.funds,"goal",e.target.value)}}}),t._v(" "),o("span",{staticClass:"form-text"})])]),t._v(" "),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"switch switch-sm col-sm-4"},[o("label",[t._v("Maximum Contribution Goal")])]),t._v(" "),o("div",{staticClass:"col-sm-8"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.project.meta.funds.cap,expression:"project.meta.funds.cap"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Example: 1000"},domProps:{value:t.project.meta.funds.cap},on:{input:function(e){e.target.composing||t.$set(t.project.meta.funds,"cap",e.target.value)}}}),t._v(" "),o("span",{staticClass:"form-text"})])])]),t._v(" "),o("div",{staticClass:"col-12"},[o("c-html-editor",{attrs:{height:"200",model:t.project.value},on:{"update:model":function(e){t.$set(t.project,"value",e)}}}),t._v(" "),o("span",{staticClass:"form-text"})],1),t._v(" "),o("div",{staticClass:"col-12"},[o("c-heading-bar-color",{staticClass:"mt-4 mb-4",attrs:{colorCode:"#444",textAlign:"center",hidden:""}},[t._v("Advanced Options")]),t._v(" "),o("div",{on:{click:t.toggleAdvanced}},[o("i",{staticClass:"mr-2 fas",class:t.advanced?"fa-angle-up":"fa-angle-down"}),t._v("\n                "+t._s(t.advanced?"Hide":"Show")+" Advanced\n            ")])],1),t._v(" "),t.advanced?o("div",{staticClass:"col-12"},[o("hr")]):t._e(),t._v(" "),t.advanced?o("div",{staticClass:"col-md-6"},[o("div",{staticClass:"form-group row"},[o("div",{staticClass:"col-sm-3"},[o("label",[t._v("Support Email")])]),t._v(" "),o("div",{staticClass:"col-sm-9"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.project.meta.supportEmail,expression:"project.meta.supportEmail"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Example: example@domain.com"},domProps:{value:t.project.meta.supportEmail},on:{input:function(e){e.target.composing||t.$set(t.project.meta,"supportEmail",e.target.value)}}}),t._v(" "),o("span",{staticClass:"form-text"})])]),t._v(" "),o("div",{staticClass:"form-group row"},[o("div",{staticClass:"col-sm-3"},[o("label",[t._v("Twitter Username")])]),t._v(" "),o("div",{staticClass:"col-sm-9"},[o("div",{staticClass:"input-group mb-2 mr-sm-2 mb-sm-0"},[o("div",{staticClass:"input-group-prepend"},[o("span",{staticClass:"input-group-text"},[t._v("@")])]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.project.meta.twitterUsername,expression:"project.meta.twitterUsername"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Example: @example"},domProps:{value:t.project.meta.twitterUsername},on:{input:function(e){e.target.composing||t.$set(t.project.meta,"twitterUsername",e.target.value)}}})])])]),t._v(" "),o("div",{staticClass:"form-group row"},[o("div",{staticClass:"col-sm-3"},[o("label",[t._v("Share Text")])]),t._v(" "),o("div",{staticClass:"col-sm-9"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.project.meta.shareText,expression:"project.meta.shareText"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Example: Join our crowdfund on BlockHub today!"},domProps:{value:t.project.meta.shareText},on:{input:function(e){e.target.composing||t.$set(t.project.meta,"shareText",e.target.value)}}}),t._v(" "),o("span",{staticClass:"form-text"})])])]):t._e(),t._v(" "),t.advanced?o("div",{staticClass:"col-md-6"},[o("div",{staticClass:"form-group row"},[o("div",{staticClass:"col-sm-1"},[o("c-switch",{staticClass:"switch-sm",attrs:{checked:t.project.meta.overflowEnabled},on:{change:function(e){return t.project.meta.overflowEnabled=e}}})],1),t._v(" "),o("div",{staticClass:"col-sm-11"},[o("label",[t._v("Overflow")]),t._v(" "),o("span",{staticClass:"form-text"},[t._v("Projects with Overflow enabled will accept more than the funding goal (over-contribution)")])])]),t._v(" "),o("div",{staticClass:"form-group row"},[o("div",{staticClass:"col-sm-1"},[o("c-switch",{staticClass:"switch-sm",attrs:{checked:t.project.meta.timelineEnabled},on:{change:function(e){return t.project.meta.timelineEnabled=e}}})],1),t._v(" "),o("div",{staticClass:"col-sm-11"},[o("label",[t._v("Timeline")]),t._v(" "),o("span",{staticClass:"form-text"},[t._v("Projects with Timeline enabled will have a current timeline with associated milestones.")])])]),t._v(" "),o("div",{staticClass:"form-group row"},[o("div",{staticClass:"col-sm-1"},[o("c-switch",{staticClass:"switch-sm",attrs:{checked:t.project.meta.refundsEnabled},on:{change:function(e){return t.project.meta.refundsEnabled=e}}})],1),t._v(" "),o("div",{staticClass:"col-sm-11"},[o("label",[t._v("Refunds")]),t._v(" "),o("span",{staticClass:"form-text"},[t._v("Projects with Refunds enabled will allow contributors to get partial or full refund if the project is deemed not successful (by community vote).")])])]),t._v(" "),o("div",{staticClass:"form-group row"},[o("div",{staticClass:"col-sm-1"},[o("c-switch",{staticClass:"switch-sm",attrs:{checked:t.project.meta.curationEnabled},on:{change:function(e){return t.project.meta.curationEnabled=e}}})],1),t._v(" "),o("div",{staticClass:"col-sm-11"},[o("label",[t._v("Curation")]),t._v(" "),o("span",{staticClass:"form-text"},[t._v("Projects with Curation enabled will allow the community to curate the project and earn reputation for their actions.")])])]),t._v(" "),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"switch switch-sm col-sm-1"}),t._v(" "),o("div",{staticClass:"col-sm-11"},[o("input",{attrs:{type:"text",id:"ise_default",name:"ise_default",value:""}}),t._v(" "),o("label",[t._v("Contribution Period")]),t._v(" "),o("span",{staticClass:"form-text"},[t._v("Projects with Curation Enabled will allow the community to curate the project and earn reputation for their actions.")])])]),t._v(" "),o("div",{staticClass:"form-group row"},[o("div",{staticClass:"col-sm-1"},[o("c-switch",{staticClass:"switch-sm",attrs:{checked:t.project.meta.contributionPeriodEnabled},on:{change:function(e){return t.project.meta.contributionPeriodEnabled=e}}})],1),t._v(" "),o("div",{staticClass:"col-sm-11"},[o("label",[t._v("No Contribution Period")]),t._v(" "),o("span",{staticClass:"form-text"},[t._v("Projects with No Contribution Period will be open for contribution until the project is completed, allowing for contributions during the project.")])])])]):t._e(),t._v(" "),t.advanced?o("div",{staticClass:"col-md-12"},[o("div",{staticClass:"form-group row",staticStyle:{"text-align":"center"}},[o("br"),t._v(" "),o("h3",{staticStyle:{width:"100%"}},[t._v("Raw Data Editor")]),t._v(" "),o("br"),o("br"),t._v(" "),o("textarea",{attrs:{rows:"10",cols:"50"},domProps:{value:t.projectJson},on:{input:function(e){t.updateProjectRaw(e.target.value)}}}),t._v(" "),o("br"),o("br"),t._v(" "),o("span",{staticClass:"form-text"}),t._v(" "),o("c-json-editor",{staticStyle:{margin:"0 auto"},attrs:{objData:t.project},model:{value:t.project,callback:function(e){t.project=e},expression:"project"}})],1)]):t._e(),t._v(" "),o("div",{staticClass:"col-12",attrs:{hidden:""}},[o("div",{directives:[{name:"darklaunch",rawName:"v-darklaunch",value:"GOVERNANCE",expression:"'GOVERNANCE'"}],staticClass:"row"},[o("div",{staticClass:"col-12"},[t._v("\n                    Choose your governance system\n                ")]),t._v(" "),o("div",{staticClass:"col-4"},[o("i",{staticClass:"fas first-order"})])])]),t._v(" "),o("div",{staticClass:"col-12"},[o("c-heading-bar-color",{staticClass:"mt-4 mb-4",attrs:{colorCode:"#444",textAlign:"center"}},[t._v("Blockchain Options")]),t._v(" "),t.blockchain?o("div",[o("p",[t._v("Project found. ID: "+t._s(t.blockchain.id))]),t._v(" "),o("c-button",{attrs:{status:"outline-info"},on:{click:t.updateBlockchain}},[t._v("\n                    Update\n                ")])],1):t._e(),t._v(" "),t.blockchain?t._e():o("div",[o("strong",[t._v("Project not found within Funding Protocol.")]),t._v(" "),o("c-button",{attrs:{status:"outline-info",size:"sm"},on:{click:t.syncBlockchain}},[t._v("\n                    Sync\n                ")]),t._v(" "),o("c-button",{attrs:{status:"outline-info",size:"sm"},on:{click:t.createBlockchain}},[t._v("\n                    Deploy\n                ")])],1)],1)]):t._e(),t._v(" "),o("template",{slot:"menu"},[o("div",{staticClass:"row"},[t.project.id?o("div",{staticClass:"col-12 text-right"},[o("c-button",{attrs:{status:"info",href:"/project/"+t.project.id,target:"_blank",icon:"open"}},[t._v("\n                    View Page\n                ")]),t._v(" "),o("c-button",{attrs:{status:"success",icon:"save"},on:{click:t.save}},[t._v("\n                    Save\n                ")])],1):t._e(),t._v(" "),t.project.id?t._e():o("div",{staticClass:"col-12 text-right"},[o("c-button",{attrs:{status:"success",size:"md",icon:"plus"},on:{click:t.create}},[t._v("\n                    Create\n                ")])],1)])])],2)},[],!1,null,null,null);e.default=f.exports},246:function(t,e){},681:function(t,e){var o,a,s,i=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function n(t){return i.lastIndex=0,i.test(t)?'"'+t.replace(i,function(t){var e=r[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}t.exports=function(t,e,i,r){var c;if(o="",a="",r||(r=0),"number"!=typeof r)throw new Error("beaufifier: limit must be a number");if("number"==typeof i)for(c=0;c<i;c+=1)a+=" ";else"string"==typeof i&&(a=i);if(s=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("beautifier: wrong replacer parameter");return function t(e,i,r){var c,l,u,d,p,v=o,m=i[e];switch(m&&"object"==typeof m&&"function"==typeof m.toJSON&&(m=m.toJSON(e)),"function"==typeof s&&(m=s.call(i,e,m)),typeof m){case"string":return n(m);case"number":return isFinite(m)?String(m):"null";case"boolean":case"null":return String(m);case"object":if(!m)return"null";if(o+=a,p=[],"[object Array]"===Object.prototype.toString.apply(m)){for(d=m.length,c=0;c<d;c+=1)p[c]=t(c,m,r)||"null";return u=0===p.length?"[]":o?o.length+p.join(", ").length+4>r?"[\n"+o+p.join(",\n"+o)+"\n"+v+"]":"[ "+p.join(", ")+" ]":"["+p.join(",")+"]",o=v,u}if(s&&"object"==typeof s)for(d=s.length,c=0;c<d;c+=1)"string"==typeof s[c]&&(u=t(l=s[c],m,r))&&p.push(n(l)+(o?": ":":")+u);else for(l in m)Object.prototype.hasOwnProperty.call(m,l)&&(u=t(l,m,r))&&p.push(n(l)+(o?": ":":")+u);return u=0===p.length?"{}":o?o.length+p.join(", ").length+4>r?"{\n"+o+p.join(",\n"+o)+"\n"+v+"}":"{ "+p.join(", ")+" }":"{"+p.join(",")+"}",o=v,u}}("",{"":t},r)}},74:function(t,e){},999:function(t,e,o){"use strict";var a=o(246);o.n(a).a}}]);
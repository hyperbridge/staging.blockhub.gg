(window.webpackJsonp=window.webpackJsonp||[]).push([[238],{1669:function(t,s,n){(t.exports=n(15)(!1)).push([t.i,".good[data-v-7bf765dd]{color:#27ae60}.avg[data-v-7bf765dd]{color:#e67e22}.bad[data-v-7bf765dd]{color:#e74c3c}.benchmark__status[data-v-7bf765dd]{margin:10px 0}.benchmark__fps[data-v-7bf765dd]{font-size:16px}",""])},1670:function(t,s,n){"use strict";var e=n(988);n.n(e).a},2282:function(t,s,n){"use strict";n.r(s);var e={name:"benchmark",props:{settings:Object},data:function(){return{fps:0,fpsVals:[],running:!1,finished:!1,results:{avgFps:0,grade:""},btnMsg:"UPDATE SETTINGS AUTOMATICALLY"}},methods:{benchmark:function(){var t=this;this.running=!0,this.finished=!1,this.fpsVals=[];var s=[],n=0,e=0;!function i(){window.requestAnimationFrame(function(){e++;for(var a=performance.now();s.length>0&&s[0]<=a-1e3;)s.shift();s.push(a),n=s.length,t.fps=n,e>60&&t.fpsVals.push(n),e>500?(t.running=!1,t.finished=!0,t.getResults()):i()})}()},getResults:function(){var t=Math.round(this.fpsVals.reduce(function(t,s){return t+s},0)/this.fpsVals.length),s="good";t<50&&t>30?s="avg":t<30&&(s="bad"),this.results.avgFps=t,this.results.grade=s,this.results.text="good"==s?"There is no need to lower your settings":"You should consider lowering your settings (preferably by auto-update option)",this.autoUpdateSettings()},updateSettings:function(t,s){this.$store.commit("application/updateClientSettings",{key:t,value:s})},toggleAutoUpdateSettings:function(){this.updateSettings("auto_update_settings")},autoUpdateSettings:function(){var t=this,s=this.settings;if(s.client.auto_update_settings&&this.finished&&!this.running){var n=this.results.grade,e=["autoplay","animations"],i=function(s){return e.forEach(function(n){t.updateSettings(n,s)})};"good"===n?i(!0):"avg"===n?(s.client.autoplay&&this.updateSettings("autoplay",!1),s.client.animations&&this.updateSettings("animations",!1)):i(!1),this.$snotify.success("Settings were successfully updated","Settings updated",{timeout:2500,pauseOnHover:!0})}}}},i=(n(1670),n(7)),a=Object(i.a)(e,function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",[n("div",[n("c-button",{class:{"avoid-clicks":t.running},attrs:{iconHide:""},on:{click:t.benchmark}},[t._v("\n            "+t._s(t.finished?"Try again":t.running?"Running...":"Run Performance Test")+"\n        ")]),t._v(" "),n("p",{staticClass:"benchmark__status"},[t._v("STATUS: "+t._s(t.running?"Running":t.finished?"Finished":"Waiting to start"))]),t._v(" "),t.running?n("p",[t._v("FPS: "+t._s(t.fps))]):t.finished?n("p",[t._v("\n            Average fps: "),n("strong",{staticClass:"benchmark__fps",class:t.results.grade},[t._v(t._s(t.results.avgFps))]),n("br"),t._v("\n            "+t._s(t.results.text)+"\n        ")]):n("p",[t._v("Run this benchmark to check your performance")])],1),t._v(" "),n("div",[t.settings.client.auto_update_settings?n("c-button",{attrs:{status:"success"},on:{click:t.toggleAutoUpdateSettings}},[t._v("\n            SETTINGS UPDATED AUTOMATICALLY\n        ")]):t._e(),t._v(" "),t.settings.client.auto_update_settings?t._e():n("c-button",{attrs:{status:"warning"},on:{click:t.toggleAutoUpdateSettings}},[t._v("\n            SETTINGS NOT UPDATED AUTOMATICALLY\n        ")])],1)])},[],!1,null,"7bf765dd",null);s.default=a.exports},988:function(t,s,n){var e=n(1669);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);n(14)("c5d2d164",e,!0,{})}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{1389:function(t,n,s){"use strict";s.r(n);var e=s(9),r=s.n(e),a=s(2),i=s.n(a),c=(s(19),{props:["id"],mixins:[s(30).a],components:{"c-block":function(t){return Promise.resolve().then(function(){var n=[s(1364)];t.apply(null,n)}.bind(this)).catch(s.oe)},"c-block-menu":function(t){return s.e(187).then(function(){var n=[s(1182)];t.apply(null,n)}.bind(this)).catch(s.oe)},"c-list":function(t){return s.e(173).then(function(){var n=[s(1321)];t.apply(null,n)}.bind(this)).catch(s.oe)},"c-list-submenu":function(t){return s.e(259).then(function(){var n=[s(1292)];t.apply(null,n)}.bind(this)).catch(s.oe)},"c-list-submenu-2":function(t){return s.e(258).then(function(){var n=[s(1293)];t.apply(null,n)}.bind(this)).catch(s.oe)},"c-tooltip":function(t){return s.e(189).then(function(){var n=[s(1299)];t.apply(null,n)}.bind(this)).catch(s.oe)},"c-asset-preview":function(t){return s.e(168).then(function(){var n=[s(1300)];t.apply(null,n)}.bind(this)).catch(s.oe)},"c-asset-preview-small":function(t){return s.e(257).then(function(){var n=[s(1307)];t.apply(null,n)}.bind(this)).catch(s.oe)},"c-exchange-bar":function(t){return s.e(256).then(function(){var n=[s(1310)];t.apply(null,n)}.bind(this)).catch(s.oe)},"c-author":function(t){return s.e(163).then(function(){var n=[s(1308)];t.apply(null,n)}.bind(this)).catch(s.oe)},"c-assets-grid":function(t){return s.e(165).then(function(){var n=[s(1313)];t.apply(null,n)}.bind(this)).catch(s.oe)}},data:function(){return{yoursOffer:[],theirOffer:[],links:[{title:"Offer",to:"/marketplace/trade"},{title:"Chat",to:{name:"Marketplace Trade Explorer"}}]}},methods:{checkClick:function(t){console.log(t)},addTransactionAsset:function(t,n){var s=this.tradeId;this.$store.commit("addTransactionAsset",{asset:t,target:n,tradeId:s})},deleteAsset:function(t,n){this[t+"Offer"].splice()}},computed:{inventory:function(){return{}},assetsStore:function(){return this.$store.state.assets},assets:function(){return this.assetsStore.assets},transaction:function(){return this.$store.state.assets.trxs[this.id]},products:function(){return this.$store.state.marketplace.products},you:function(){return this.$store.getters["assets/users"][this.trx.you]},contractor:function(){return this.$store.getters["assets/users"][this.trx.contractor]},users:function(){var t=this.assets,n=this.transaction,s=this.products,e=this.$store.state.assets.users,a=e[n.you],c=a.inventory.map(function(n){return t[n]}),o=e[n.contractor],u=o.inventory.map(function(n){return t[n]});return{you:i()({},a,{inventory:c,inventoryGrouped:c.reduce(function(t,n){var e=s[n.product];return t[e.name]=t[e.name]||[],t[e.name]=[].concat(r()(t[e.name]),[n]),t},{})}),contractor:i()({},o,{inventory:u,inventoryGrouped:u.reduce(function(t,n){var e=s[n.product];return t[e.name]=t[e.name]||[],t[e.name]=[].concat(r()(t[e.name]),[n]),t},{})})}},tr:function(){var t=this.$store.state.assets.trxs[this.id];return i()({},t)},price:function(){var t=this.yoursOffer,n=this.theirOffer,s=function(t){return Math.round(100*t)/100},e=s(t.reduce(function(t,n){return t+n.price.current},0)),r=s(n.reduce(function(t,n){return t+n.price.current},0));return{yours:e,their:r,sum:s(e-r)}},tradeId:function(){return this.$route.params.tradeId},trx:function(){return this.transaction}}}),o=(s(705),s(0)),u=Object(o.a)(c,function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("article",[t.transaction?s("c-block",{staticClass:"transaction",attrs:{title:"Transaction: "+this.id}},[s("div",{staticClass:"transaction__block"},[s("div",{staticClass:"transaction__headings"},[s("h4",[t._v("You offered")]),t._v(" "),s("h4",[t._v("Your inventory")])]),t._v(" "),s("div",{staticClass:"transaction__management"},[s("div",{staticClass:"management__selected-assets"},[s("c-assets-grid",{staticClass:"management__assets-grid",attrs:{assets:t.yoursOffer},on:{click:function(n){t.handleArray(n,"yoursOffer")}}})],1),t._v(" "),s("div",{staticClass:"management__inventory-explorer"},[s("c-list-submenu",{attrs:{items:t.users.you.inventoryGrouped,isParent:""},scopedSlots:t._u([{key:"sublist",fn:function(n){var e=n.sublist;return s("c-list-submenu",{attrs:{items:e},scopedSlots:t._u([{key:"default",fn:function(n){return s("div",{staticClass:"sublist-menu__assets"},[s("c-asset-preview-small",{attrs:{slot:"item-content",asset:n.list},nativeOn:{click:function(s){t.yoursOffer.push(n.list)}},slot:"item-content"})],1)}}])})}}])})],1)])]),t._v(" "),s("c-exchange-bar",{attrs:{price:t.price,yours:t.yoursOffer.length,their:t.theirOffer.length}}),t._v(" "),s("div",{staticClass:"transaction__block"},[s("div",{staticClass:"transaction__headings"},[s("h4",[t._v("For "+t._s(t.users.contractor.name)+"'s")]),t._v(" "),s("c-author",{attrs:{author:t.users.contractor}}),t._v(" "),s("h4",[t._v(t._s(t.users.contractor.name)+"'s inventory")])],1),t._v(" "),s("div",{staticClass:"transaction__management"},[s("div",{staticClass:"management__selected-assets"},[s("c-assets-grid",{staticClass:"management__assets-grid",attrs:{assets:t.theirOffer},on:{click:function(n){t.handleArray(n,"theirOffer")}}})],1),t._v(" "),s("div",{staticClass:"management__inventory-explorer"},[s("c-list-submenu",{attrs:{items:t.users.contractor.inventoryGrouped,isParent:""},scopedSlots:t._u([{key:"sublist",fn:function(n){var e=n.sublist;return s("c-list-submenu",{attrs:{items:e},scopedSlots:t._u([{key:"default",fn:function(n){return s("div",{staticClass:"sublist-menu__assets"},[s("c-asset-preview-small",{attrs:{slot:"item-content",asset:n.list},nativeOn:{click:function(s){t.theirOffer.push(n.list)}},slot:"item-content"})],1)}}])})}}])})],1)])]),t._v(" "),s("div",{staticClass:"transaction__actions"},[s("c-button",{attrs:{status:"info",icon_hide:""}},[t._v("Update transaction")])],1)],1):s("c-block",{staticClass:"transaction",attrs:{title:"Transaction: "+t.tradeId}},[s("p",[t._v("Transaction with id "),s("i",[t._v(t._s(t.id))]),t._v(" doesn't exist")])]),t._v(" "),s("c-block-menu",{attrs:{links:t.links}},[t._v("\n        Test\n    ")])],1)},[],!1,null,"7c6916a0",null);n.default=u.exports},142:function(t,n){},705:function(t,n,s){"use strict";var e=s(142);s.n(e).a}}]);
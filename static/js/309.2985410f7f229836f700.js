(window.webpackJsonp=window.webpackJsonp||[]).push([[309],{1380:function(t,e,a){(t.exports=a(15)(!1)).push([t.i,".trade-offer[data-v-9e549ee4]{margin-bottom:25px;border-radius:4px}.trade-offer__status[data-v-9e549ee4]{background:#5d75f7;font-size:11px;border-radius:4px;padding:2px;font-weight:700;color:#fff;margin-right:4px}.trade-offer--new .trade-offer__content[data-v-9e549ee4]{border-color:#5d75f7}.trade-offer__date[data-v-9e549ee4]{color:hsla(0,0%,100%,.6);font-size:13px;margin-bottom:5px;display:flex;justify-content:space-between}.trade-offer__content[data-v-9e549ee4]{background:rgba(1,1,1,.25);border:1px solid transparent;padding:20px;display:flex;justify-content:space-between;align-items:center;cursor:pointer;border-radius:4px}.trade-offer__content[data-v-9e549ee4]:hover{background:rgba(1,1,1,.15)}.trade-offer__details[data-v-9e549ee4]{border-top:1px solid hsla(0,0%,100%,.1);padding:20px;background-image:linear-gradient(180deg,#2c2e47,#404363);border-radius:0 0 4px 4px}.trade-offer__assets-table[data-v-9e549ee4]{width:100%;margin:30px 0}.trade-offer__assets-table th[data-v-9e549ee4]{padding:5px 0}.trade-offer__assets-table td[data-v-9e549ee4]{padding:5px 0;color:hsla(0,0%,100%,.6)}.trade-offer__assets-table td[data-v-9e549ee4]:last-child,.trade-offer__assets-table th[data-v-9e549ee4]:last-child{text-align:right}.trade-offer__assets-table .asset__info[data-v-9e549ee4]{display:flex;align-items:center}.trade-offer__assets-table .asset__image[data-v-9e549ee4]{width:24px;height:24px;border-radius:4px;margin-right:10px}.trade-offer__summary-table[data-v-9e549ee4]{margin-top:40px;margin-bottom:30px}.trade-offer__summary-table td[data-v-9e549ee4]:first-child{min-width:100px}.trade-offer__summary-table td[data-v-9e549ee4]{color:hsla(0,0%,100%,.6);padding:4px 0}.trade-offer__summary-table tfoot td[data-v-9e549ee4]{border-top:1px solid #535673}.trade-offer__action[data-v-9e549ee4]{display:flex;justify-content:space-between}.total-balance[data-v-9e549ee4]{color:#fff}.total-balance.total-balance--negative[data-v-9e549ee4]{color:#ff7676}.total-balance.total-balance--positive[data-v-9e549ee4]{color:#41ba5d}",""])},1381:function(t,e,a){"use strict";var r=a(837);a.n(r).a},2219:function(t,e,a){"use strict";a.r(e);var r=a(5),s=a.n(r),n=a(2),o=a.n(n),i=a(6),f=a.n(i),c=a(36),d=a.n(c),l={name:"trade-offer",props:{offer:{type:Object,required:!0}},components:{"c-author":function(t){return a.e(199).then(function(){var e=[a(2227)];t.apply(null,e)}.bind(this)).catch(a.oe)},"c-tooltip":function(t){return a.e(213).then(function(){var e=[a(2235)];t.apply(null,e)}.bind(this)).catch(a.oe)},"c-asset-preview":function(t){return a.e(208).then(function(){var e=[a(2218)];t.apply(null,e)}.bind(this)).catch(a.oe)}},data:function(){return{showDetails:!1}},methods:{expandDetails:function(){this.showDetails=!this.showDetails,this.offer.new&&this.$emit("wasSeen")},round:function(t){return Math.floor(100*t)/100}},computed:{totalVal:function(){var t=this.assets,e=this.round;return d()(t).reduce(function(t,a){var r=f()(a,2),n=r[0],i=r[1];return o()({},t,s()({},n,e(i.reduce(function(t,e){return t+e.price.current},0))))},{})},finalBalance:function(){return this.round(this.totalVal.Yours-this.totalVal[this.contrName])},contrName:function(){return this.offer.contractor.name+"s"},assets:function(){return s()({Yours:this.offer.yourOffer},this.contrName,this.offer.contractorOffer)}}},_=(a(1381),a(7)),u=Object(_.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"trade-offer",class:{"trade-offer--new":t.offer.new}},[a("div",{staticClass:"trade-offer__date"},[a("span",[t.offer.new?a("span",{staticClass:"trade-offer__status"},[t._v("NEW")]):t._e(),t._v("\n            "+t._s(t._f("formatDate")(t.offer.createdAt))+" - "+t._s(t._f("timeAgo")(t.offer.createdAt))+"\n        ")]),t._v(" "),a("span",[t._v("\n            Expires "+t._s(t._f("timeAgo")(t._f("addTime")(t.offer.createdAt,2,"weeks")))+"\n        ")])]),t._v(" "),a("div",{staticClass:"trade-offer__content",on:{click:function(e){t.expandDetails()}}},[a("c-author",{attrs:{author:t.offer.contractor}}),t._v(" "),a("span",[t._v("\n            Trade "+t._s(t.offer.yourOffer.length)+" for "+t._s(t.offer.contractorOffer.length)+" assets\n        ")]),t._v(" "),a("div",[a("c-button",{attrs:{status:"success",iconHide:""}},[t._v("Accept")]),t._v(" "),a("c-button",{attrs:{status:"danger",iconHide:""}},[t._v("Decline")])],1)],1),t._v(" "),a("transition",{attrs:{name:"slide-in-top"}},[t.showDetails?a("div",{staticClass:"trade-offer__details"},[a("h4",[t._v("Offer details")]),t._v(" "),t._l(t.assets,function(e,r){return a("table",{key:r,staticClass:"trade-offer__assets-table"},[a("thead",[a("th",[t._v(t._s(r)+" items")]),t._v(" "),a("th",[t._v("Total value "+t._s(t._f("convertCurrency")(t.totalVal[r])))])]),t._v(" "),a("tbody",t._l(e,function(e,r){return a("tr",{key:r},[a("td",[a("c-tooltip",[a("c-asset-preview",{attrs:{slot:"tooltip",asset:e},slot:"tooltip"}),t._v(" "),a("div",{staticClass:"asset__info"},[a("c-img",{staticClass:"asset__image",attrs:{src:e.image}}),t._v("\n                                    "+t._s(e.name)+"\n                                ")],1)],1)],1),t._v(" "),a("td",[t._v(t._s(t._f("convertCurrency")(e.price.current)))])])}))])}),t._v(" "),a("table",{staticClass:"trade-offer__summary-table"},[a("thead",[a("tr",[a("th",{attrs:{colspan:"2"}},[t._v("Summary:")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v(t._s(t.contrName)+" items:")]),t._v(" "),a("td",[t._v("- "+t._s(t._f("convertCurrency")(t.totalVal[t.contrName])))])]),t._v(" "),a("tr",[a("td",[t._v("Yours items:")]),t._v(" "),a("td",[t._v("+ "+t._s(t._f("convertCurrency")(t.totalVal.Yours)))])])]),t._v(" "),a("tfoot",[a("tr",[a("td",[t._v("Final balance:")]),t._v(" "),a("td",[a("span",{staticClass:"total-balance",class:[t.finalBalance>0?"total-balance--positive":t.finalBalance<0?"total-balance--negative":""]},[t._v("\n                                "+t._s(t.finalBalance>0?"+":"")+"\n                                "+t._s(t.finalBalance)+"$\n                            ")])])])])]),t._v(" "),a("div",{staticClass:"trade-offer__action"},[a("c-button",{attrs:{status:"info",iconHide:""},on:{click:function(e){t.$router.push({path:"/marketplace/trade/"+t.offer.id})}}},[t._v("Go to transaction")]),t._v(" "),a("span",[a("c-button",{attrs:{status:"success",iconHide:""}},[t._v("Accept")]),t._v(" "),a("c-button",{attrs:{status:"danger",iconHide:""}},[t._v("Decline")])],1)],1)],2):t._e()])],1)},[],!1,null,"9e549ee4",null);e.default=u.exports},837:function(t,e,a){var r=a(1380);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(14)("57f0144f",r,!0,{})}}]);